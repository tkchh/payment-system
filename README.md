# Payment System API

[![Go](https://img.shields.io/badge/Go-1.21+-00ADD8?logo=go)](https://golang.org/)
[![Go-Chi](https://img.shields.io/badge/Router-Go--Chi-6C31D5)](https://go-chi.io/)
[![Testify](https://img.shields.io/badge/Testing-Testify-2CA5E0)](https://github.com/stretchr/testify)

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞–º–∏ —Å REST API, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ Go.

## üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º https://go.dev/doc/effective_go
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ https://github.com/golang-standards/project-layout
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ slog https://pkg.go.dev/log/slog
- –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (handlers)
- –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ mockery https://github.com/vektra/mockery
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∫–æ–¥–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫ –∫–æ–¥—É –Ω–∞ –æ—Å–Ω–æ–≤–µ https://pkg.go.dev/cmd/doc

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
**–ë–∞–∑–æ–≤—ã–π —Å—Ç–µ–∫:**
- **Go 1.23** - —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
- **Go-Chi** - —Ä–æ—É—Ç–∏–Ω–≥ –∏ middleware
- **Slog** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- **Testify** - assertions –∏ –º–æ–∫–∏
- **Mockery** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–∫-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- **httptest** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–µ–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- SQLite - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –ë–î)

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è 10 –∫–æ—à–µ–ª—å–∫–æ–≤ —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏ –∏ –Ω–∞—á–∞–ª—å–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º 100.0 —É.–µ. –Ω–∞ —Å—á–µ—Ç—É.

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|-----------|
| `GET` | `/api/wallet/{address}/balance` | –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∫–æ—à–µ–ª—å–∫–∞ |
| `GET` | `api/transactions?count=n` |–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö n —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π|
| `POST` | `/api/send` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ |

–ü—Ä–∏–º–µ—Ä GET –∑–∞–ø—Ä–æ—Åa /api/transactions?count=3

–û—Ç–≤–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```JSON
{
    "status": "OK",
    "code": 200,
    "data": [
        {
            "from": "449c9ef0-d2e9-4ec3-97b0-20919d8fac26",
            "to": "e3675892-1de2-4718-8c5a-847a10dd103c",
            "amount": 3.5,
            "time": "05:35:41 24-02-2025"
        },
        {
            "from": "943fc531-2479-4f20-a695-21c5f44191fb",
            "to": "5c1d8064-7f48-4664-9b35-01af789e0179",
            "amount": 52,
            "time": "05:35:13 24-02-2025"
        },
        {
            "from": "53e45c72-53a3-4688-9140-d002f2dd41d3",
            "to": "b4cd8e8f-c2fa-433c-8b07-d2ebfe61468a",
            "amount": 5,
            "time": "05:31:38 24-02-2025"
        }
    ]
}
```

## üöÄ –ó–∞–ø—É—Å–∫
### –õ–æ–∫–∞–ª—å–Ω–æ
–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/tkchh/payment-system.git
```
–ó–∞–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è (windows):
```bash
SET CONFIG_PATH=./config/local.yaml
```
–ó–∞–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è (linux):
```bash
export CONFIG_PATH=./config/local.yaml
```
–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
go run ./cmd/payment-system/main.go
```
### Docker
–°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å Docker:
```bash
docker build -t payment-service .
docker run -d -p 8080:8080 --name payment-cont payment-service
```
#‚Ññ üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- https://github.com/go-chi/chi/v5 ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∏ middleware.
- https://github.com/go-chi/render ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ JSON-–æ—Ç–≤–µ—Ç–æ–≤.
- https://github.com/google/uuid ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ –∫–æ—à–µ–ª—å–∫–æ–≤.
- https://github.com/ilyakaznacheev/cleanenv ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –æ–∫—Ä—É–∂–µ–Ω–∏—è.
- https://github.com/mattn/go-sqlite3 ‚Äî –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å SQLite.
- https://github.com/stretchr/testify ‚Äî —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ —Å —É—á–µ—Ç–æ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —Å—Ç—Ä–æ–≥—É—é –ø—Ä–æ–≤–µ—Ä–∫—É, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∏–Ω—ä–µ–∫—Ü–∏–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏.
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–∞—Å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.
## üíæ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
SQLite –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑–µ –∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è/–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
